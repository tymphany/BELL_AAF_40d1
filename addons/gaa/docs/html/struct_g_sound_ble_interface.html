<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GAA Addon: GSoundBleInterface Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GAA Addon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_g_sound_ble_interface.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">GSoundBleInterface Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;services/voice_ui/gaa/gsound/gsound_target_ble.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a3dfc9b1ed2d2521516c71dceb6960ff4"><td class="memItemLeft" align="right" valign="top">GSoundStatus(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_sound_ble_interface.html#a3dfc9b1ed2d2521516c71dceb6960ff4">gsound_ble_on_connect</a> )(GSoundChannelType channel, const <a class="el" href="struct_g_sound_b_t_addr.html">GSoundBTAddr</a> *addr)</td></tr>
<tr class="separator:a3dfc9b1ed2d2521516c71dceb6960ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5907142050a3aa380dd04544f7f56c"><td class="memItemLeft" align="right" valign="top">GSoundStatus(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_sound_ble_interface.html#a4c5907142050a3aa380dd04544f7f56c">gsound_ble_on_disconnect</a> )(GSoundChannelType channel)</td></tr>
<tr class="separator:a4c5907142050a3aa380dd04544f7f56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad2669007be834e27e771efe535a0da"><td class="memItemLeft" align="right" valign="top">GSoundStatus(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_sound_ble_interface.html#abad2669007be834e27e771efe535a0da">gsound_ble_on_rx_ready</a> )(GSoundChannelType channel, const uint8_t *buffer, uint32_t len)</td></tr>
<tr class="separator:abad2669007be834e27e771efe535a0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e749903e09993c819474089b4fb8e97"><td class="memItemLeft" align="right" valign="top">GSoundStatus(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_sound_ble_interface.html#a9e749903e09993c819474089b4fb8e97">gsound_ble_on_tx_available</a> )(GSoundChannelType channel)</td></tr>
<tr class="separator:a9e749903e09993c819474089b4fb8e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73c2d47a71f4fbce0af96e07d53d7dd"><td class="memItemLeft" align="right" valign="top">GSoundStatus(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_sound_ble_interface.html#ae73c2d47a71f4fbce0af96e07d53d7dd">gsound_ble_on_tx_consumed</a> )(GSoundChannelType channel, const uint8_t *data, uint32_t length)</td></tr>
<tr class="separator:ae73c2d47a71f4fbce0af96e07d53d7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header file was generated by Google GSound Services, it should not be altered in any way. Please treat this as a read-only file.</p>
<p>Each function listed below must be implemented for each specific platform / SDK Following declares the standard BLE Interface API. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a3dfc9b1ed2d2521516c71dceb6960ff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dfc9b1ed2d2521516c71dceb6960ff4">&#9670;&nbsp;</a></span>gsound_ble_on_connect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSoundStatus(* gsound_ble_on_connect) (GSoundChannelType channel, const <a class="el" href="struct_g_sound_b_t_addr.html">GSoundBTAddr</a> *addr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback which should be executed by Target to Synchronously indicate that a channel has been connected. The addr parameter MUST be the public BD address of the remote device.</p>
<p>A GSound BLE Channel is considered connected when notifications have been enabled in the Client Characteristic Configuration Descriptor (CCCD) for the GSound Tx Characteristic of specific specific channel. For a GSound BLE Channel to be considered connected, the underlying BLE GAP link has to be connected.</p>
<p>Depending on the return value of this function, Target should either accept the CCCD change and enable notifications, or reject the change and return error 0x80 "Application error" to the GATT Client. See return values below.</p>
<p>Multi-Threaded Environment:</p><ul>
<li>This method is a blocking call that waits on a Mutex. Therefore this method is not ISR safe.</li>
</ul>
<p>Returns GSOUND_STATUS_OK If the connection should be allowed and GATT notifications enabled. GSOUND_STATUS_ERROR If the connection should be rejected as noted above. </p>

</div>
</div>
<a id="a4c5907142050a3aa380dd04544f7f56c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5907142050a3aa380dd04544f7f56c">&#9670;&nbsp;</a></span>gsound_ble_on_disconnect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSoundStatus(* gsound_ble_on_disconnect) (GSoundChannelType channel)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback which should be executed by Target to Synchronously indicate that a channel has been disconnected.</p>
<p>A GSound BLE Channel is considered disconnected when notifications have been disabled in the Client Characteristic Configuration Descriptor (CCCD) for the GSound Tx Characteristic of specific channel. A GSound BLE Channel is also considered disconnected if the underlying BLE GAP link has disconnected.</p>
<p>Multi-Threaded Environment:</p><ul>
<li>This method is a blocking call that waits on a Mutex. Therefore this method is not ISR safe.</li>
</ul>
<p>Returns GSOUND_STATUS_ERROR if the channel is not currently connected and GSOUND_STATUS_OK otherwise. </p>

</div>
</div>
<a id="abad2669007be834e27e771efe535a0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad2669007be834e27e771efe535a0da">&#9670;&nbsp;</a></span>gsound_ble_on_rx_ready</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSoundStatus(* gsound_ble_on_rx_ready) (GSoundChannelType channel, const uint8_t *buffer, uint32_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback which should be executed by Target when data has been received from remote device.</p>
<p>Target must provide a pointer to a buffer containing the data which was received along with its length and the specific channel.</p>
<p>GSound will consume this data asynchronously from within the provided buffer. Therefore Target cannot free this buffer after this call returns. Instead, Target must reserve the buffer for GSound to use until GSound calls GSoundTargetBleRxComplete</p>
<p>This function is non-blocking and thread safe. It can be called from any thread/context including an ISR. </p>

</div>
</div>
<a id="a9e749903e09993c819474089b4fb8e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e749903e09993c819474089b4fb8e97">&#9670;&nbsp;</a></span>gsound_ble_on_tx_available</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSoundStatus(* gsound_ble_on_tx_available) (GSoundChannelType channel)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback which should be executed by Target when there is transmit space available for GATT Notification on the channel. This call is required if a call to GSoundTargetBleTransmit failed to consume or queue all of the data. See GSoundTargetBleTransmit for more information.</p>
<p>This function is non-blocking and thread safe. It can be called from any thread/context including an ISR. </p>

</div>
</div>
<a id="ae73c2d47a71f4fbce0af96e07d53d7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73c2d47a71f4fbce0af96e07d53d7dd">&#9670;&nbsp;</a></span>gsound_ble_on_tx_consumed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GSoundStatus(* gsound_ble_on_tx_consumed) (GSoundChannelType channel, const uint8_t *data, uint32_t length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback which should be executed by Target when a transmission over a BLE channel has completed.</p>
<p>Target must provide the <code>channel</code>, <code>data</code>, and <code>length</code> parameters to gsound_ble_on_tx_consumed which exactly match the <code>channel</code>, <code>data</code>, and <code>length</code> parameters passed to GSoundTargetBleTransmit.</p>
<p>This function is non-blocking and thread safe. It can be called from any thread/context including an ISR. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_g_sound_ble_interface.html">GSoundBleInterface</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
